<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Lista clienÈ›i</title>-->
<!--</head>-->
<!--<body>-->

<!--<h1>ClienÈ›i</h1>-->

<!--&lt;!&ndash; ERROR MESSAGE &ndash;&gt;-->
<!--<div th:if="${errorMessage}"-->
<!--     style="color: red; font-weight: bold; margin-bottom: 15px;">-->
<!--    <p th:text="${errorMessage}"></p>-->
<!--</div>-->

<!--&lt;!&ndash; SUCCESS MESSAGE &ndash;&gt;-->
<!--<div th:if="${successMessage}"-->
<!--     style="color: green; font-weight: bold; margin-bottom: 15px;">-->
<!--    <p th:text="${successMessage}"></p>-->
<!--</div>-->

<!--<a th:href="@{/customers/new}">â• AdaugÄƒ client nou</a>-->
<!--<br><br>-->

<!--<table border="1"-->
<!--       cellpadding="6"-->
<!--       cellspacing="0"-->
<!--       style="border-collapse: collapse;">-->

<!--    <thead style="background-color: #f0f0f0;">-->
<!--    <tr>-->
<!--        <th>ID</th>-->
<!--        <th>Nume</th>-->
<!--        <th>MonedÄƒ</th>-->
<!--        <th>Email</th>-->
<!--        <th>Telefon</th>-->
<!--        <th>Contracte</th>-->
<!--        <th>Status contracte</th>-->
<!--        <th>AcÈ›iuni</th>-->
<!--    </tr>-->
<!--    </thead>-->

<!--    <tbody>-->
<!--    <tr th:each="customer : ${customers}">-->
<!--        <td th:text="${customer.id}"></td>-->
<!--        <td th:text="${customer.name}"></td>-->
<!--        <td th:text="${customer.currency}"></td>-->
<!--        <td th:text="${customer.email}"></td>-->
<!--        <td th:text="${customer.phonenumber}"></td>-->

<!--        &lt;!&ndash; CONTRACT NAMES &ndash;&gt;-->
<!--        <td>-->
<!--            <span th:each="contract, stat : ${contractsMap[customer.id]}">-->
<!--                <span th:text="${contract.name}"></span>-->
<!--                <span th:if="${!stat.last}">, </span>-->
<!--            </span>-->
<!--        </td>-->

<!--        &lt;!&ndash; CONTRACT STATUS (COLORED) &ndash;&gt;-->
<!--        <td>-->
<!--            <span th:each="contract, stat : ${contractsMap[customer.id]}">-->
<!--                <span th:text="${contract.status}"-->
<!--                      th:style="${contract.status.name() == 'ACTIVE'}-->
<!--                                ? 'color: green; font-weight: bold;'-->
<!--                                : 'color: red; font-weight: bold;'">-->
<!--                </span>-->
<!--                <span th:if="${!stat.last}">, </span>-->
<!--            </span>-->
<!--        </td>-->

<!--        <td>-->
<!--            <a th:href="@{'/customers/' + ${customer.id}}">ğŸ” Detalii</a> |-->
<!--            <a th:href="@{'/customers/' + ${customer.id} + '/edit'}">âœï¸ EditeazÄƒ</a> |-->

<!--            <form th:action="@{'/customers/' + ${customer.id} + '/delete'}"-->
<!--                  method="post"-->
<!--                  style="display:inline;">-->
<!--                <button type="submit"-->
<!--                        onclick="return confirm('EÈ™ti sigur cÄƒ vrei sÄƒ È™tergi acest client?');">-->
<!--                    ğŸ—‘ È˜terge-->
<!--                </button>-->
<!--            </form>-->
<!--        </td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--</table>-->

<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista clienÈ›i</title>

    <style>
        body {
            font-family: Arial, sans-serif;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }

        th a {
            text-decoration: none;
            color: black;
        }

        th a:hover {
            text-decoration: underline;
        }

        .filter-box {
            border: 1px solid #ccc;
            padding: 12px;
            margin-top: 15px;
            background-color: #fafafa;
        }

        .alert-success {
            color: green;
            font-weight: bold;
            margin-top: 10px;
        }

        .alert-error {
            color: red;
            font-weight: bold;
            margin-top: 10px;
        }

        .actions a,
        .actions form {
            display: inline;
        }

        .actions form button {
            background: none;
            border: none;
            color: #b00000;
            cursor: pointer;
        }

        .actions form button:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

<h1>ClienÈ›i</h1>

<!-- ================= MESSAGES ================= -->
<div th:if="${successMessage}" class="alert-success">
    <p th:text="${successMessage}"></p>
</div>

<div th:if="${errorMessage}" class="alert-error">
    <p th:text="${errorMessage}"></p>
</div>

<a th:href="@{/customers/new}">â• AdaugÄƒ client nou</a>

<!-- ================= FILTER SECTION ================= -->
<div class="filter-box">
    <form method="get" th:action="@{/customers}">
        <label>
            Nume:
            <input type="text" name="name" th:value="${name}">
        </label>

        &nbsp;&nbsp;

        <label>
            MonedÄƒ:
            <input type="text" name="currency" th:value="${currency}">
        </label>

        <!-- Preserve sorting -->
        <input type="hidden" name="sortBy" th:value="${sortBy}">
        <input type="hidden" name="direction" th:value="${direction}">

        &nbsp;&nbsp;

        <button type="submit">FiltreazÄƒ</button>
        <a th:href="@{/customers}">Reset</a>
    </form>
</div>

<!-- ================= CUSTOMER TABLE ================= -->
<table>
    <thead>
    <tr>
        <th>
            <a th:href="@{/customers(
                name=${name},
                currency=${currency},
                sortBy='id',
                direction=${sortBy == 'id' and direction == 'asc' ? 'desc' : 'asc'}
            )}">
                ID
            </a>
        </th>

        <th>
            <a th:href="@{/customers(
                name=${name},
                currency=${currency},
                sortBy='name',
                direction=${sortBy == 'name' and direction == 'asc' ? 'desc' : 'asc'}
            )}">
                Nume
            </a>
        </th>

        <th>
            <a th:href="@{/customers(
                name=${name},
                currency=${currency},
                sortBy='currency',
                direction=${sortBy == 'currency' and direction == 'asc' ? 'desc' : 'asc'}
            )}">
                MonedÄƒ
            </a>
        </th>

        <th>Email</th>
        <th>Telefon</th>
        <th>AcÈ›iuni</th>
    </tr>
    </thead>

    <tbody>
    <tr th:each="customer : ${customers}">
        <td th:text="${customer.id}"></td>
        <td th:text="${customer.name}"></td>
        <td th:text="${customer.currency}"></td>
        <td th:text="${customer.email}"></td>
        <td th:text="${customer.phonenumber}"></td>

        <td class="actions">
            <a th:href="@{'/customers/' + ${customer.id}}">ğŸ” Detalii</a> |
            <a th:href="@{'/customers/' + ${customer.id} + '/edit'}">âœï¸ EditeazÄƒ</a> |
            <form th:action="@{'/customers/' + ${customer.id} + '/delete'}"
                  method="post"
                  onsubmit="return confirm('EÈ™ti sigur cÄƒ vrei sÄƒ È™tergi acest client?');">
                <button type="submit">ğŸ—‘ È˜terge</button>
            </form>
        </td>
    </tr>

    <tr th:if="${#lists.isEmpty(customers)}">
        <td colspan="6">Nu existÄƒ clienÈ›i.</td>
    </tr>
    </tbody>
</table>

</body>
</html>

