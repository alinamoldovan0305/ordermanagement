<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista UnitÄƒÈ›i de MÄƒsurÄƒ</title>

</head>
<body>

<div th:replace="fragments/navbar :: navbar"></div>

<h1>UnitÄƒÈ›i de mÄƒsurÄƒ</h1>

<!-- ERROR MESSAGE -->
<div th:if="${errorMessage}"
     style="color: red; font-weight: bold; margin-bottom: 15px;">
    <p th:text="${errorMessage}"></p>
</div>

<!-- SUCCESS MESSAGE -->
<div th:if="${successMessage}"
     style="color: green; font-weight: bold; margin-bottom: 15px;">
    <p th:text="${successMessage}"></p>
</div>

<a th:href="@{/units/new}">â• AdaugÄƒ unitate nouÄƒ</a>

<br><br>

<!-- ================= FILTER & SORT ================= -->

<form method="get" th:action="@{/units}"
      style="border:1px solid #ccc; padding:10px; margin-bottom:20px;">

    <fieldset>
        <legend><strong>Filtrare</strong></legend>

        <label>
            Nume:
            <input type="text" name="name" th:value="${name}">
        </label>

        <label style="margin-left:10px;">
            Simbol:
            <input type="text" name="symbol" th:value="${symbol}">
        </label>
    </fieldset>

    <br>

    <fieldset>
        <legend><strong>Sortare</strong></legend>

        <label>
            SorteazÄƒ dupÄƒ:
            <select name="sortBy">
                <option value="name" th:selected="${sortBy == 'name'}">Nume</option>
                <option value="symbol" th:selected="${sortBy == 'symbol'}">Simbol</option>
                <option value="id" th:selected="${sortBy == 'id'}">ID</option>
            </select>
        </label>

        <label style="margin-left:10px;">
            DirecÈ›ie:
            <select name="direction">
                <option value="asc" th:selected="${direction == 'asc'}">Ascendent</option>
                <option value="desc" th:selected="${direction == 'desc'}">Descendent</option>
            </select>
        </label>
    </fieldset>

    <br>

    <button type="submit">ğŸ” AplicÄƒ</button>
    <a th:href="@{/units}" style="margin-left:10px;">ReseteazÄƒ</a>
</form>

<!-- ================= TABLE ================= -->

<table border="1"
       cellpadding="6"
       cellspacing="0"
       style="border-collapse: collapse;">

    <thead style="background-color: #f0f0f0;">
    <tr>
        <th>ID</th>
        <th>Nume</th>
        <th>Simbol</th>
        <th>AcÈ›iuni</th>
    </tr>
    </thead>

    <tbody>
    <tr th:each="u : ${units}">
        <td th:text="${u.id}"></td>
        <td th:text="${u.name}"></td>
        <td th:text="${u.symbol}"></td>

        <td>
            <a th:href="@{'/units/' + ${u.id}}">ğŸ” Detalii</a> |
            <a th:href="@{'/units/' + ${u.id} + '/edit'}">âœï¸ EditeazÄƒ</a> |


            <form th:action="@{'/units/' + ${u.id} + '/delete'}"
                  method="post"
                  style="display:inline;">
                <button type="submit"
                        onclick="return confirm('EÈ™ti sigur cÄƒ vrei sÄƒ È™tergi aceastÄƒ unitate de mÄƒsurÄƒ?');">
                    ğŸ—‘ È˜terge
                </button>
            </form>
        </td>
    </tr>

    <tr th:if="${#lists.isEmpty(units)}">
        <td colspan="4" style="text-align:center;">
            <i>Nu existÄƒ unitÄƒÈ›i de mÄƒsurÄƒ.</i>
        </td>
    </tr>
    </tbody>
</table>

</body>
</html>
