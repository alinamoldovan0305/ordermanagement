<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Formular Contract</title>

</head>
<body>

<div th:replace="fragments/navbar :: navbar"></div>

<h1 th:text="${contract.id == null ? 'Adaugă contract' : 'Editează contract'}"></h1>

<!-- BUSINESS ERROR MESSAGE -->
<div th:if="${errorMessage}"
     style="color: red; font-weight: bold; margin-bottom: 15px;">
    <p th:text="${errorMessage}"></p>
</div>


<form th:action="@{${contract.id == null} ? '/contracts' : '/contracts/' + ${contract.id} + '/edit'}"
      th:object="${contract}"
      method="post">

    <!-- NUME CONTRACT -->
    <label for="name">Nume contract:</label>
    <input type="text" id="name" th:field="*{name}">
    <span th:if="${#fields.hasErrors('name')}"
          th:errors="*{name}"
          style="color:red"></span>
    <br><br>

    <!-- CUSTOMER NAME -->
    <label for="customerName">Client:</label>
    <input type="text" id="customerName" th:field="*{customer.name}" placeholder="Introdu numele clientului">
    <span th:if="${#fields.hasErrors('customer')}"
          th:errors="*{customer}"
          style="color:red"></span>
    <br><br>

    <!-- CONTRACT TYPE NAME -->
    <label for="contractTypeName">Tip contract:</label>
    <input type="text" id="contractTypeName" th:field="*{contractType.name}" placeholder="Introdu tipul contractului">
    <span th:if="${#fields.hasErrors('contractType')}"
          th:errors="*{contractType}"
          style="color:red"></span>
    <br><br>

    <!-- STATUS AS TEXT -->
    <label for="status">Status:</label>
    <input type="text" id="status" th:field="*{status}" placeholder="Ex: ACTIVE, INACTIVE">
    <span th:if="${#fields.hasErrors('status')}"
          th:errors="*{status}"
          style="color:red"></span>
    <br><br>

    <button type="submit">Salvează</button>
</form>

<br>
<a th:href="@{/contracts}">Înapoi la listă</a>

</body>
</html>

